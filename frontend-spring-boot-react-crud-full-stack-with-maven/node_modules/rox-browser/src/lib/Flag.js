import Variant from './Variant';

export default class RoxFlag extends Variant {
  constructor(defaultValue = false, options) {
    super(defaultValue ? 'true' : 'false', ['false', 'true'], options);
    this._entityType = 'flag';
  }

  isEnabled(context) {
    return this._normalizeValue(this.getValue(context));
  }

  _getInternalIsEnabled(callContext, context) {
    return this._normalizeValue(this.getInternalValue(callContext, context));
  }

  _normalizeValue(value) {
    if (typeof value === 'boolean') return value;
    return value === 'true';
  }
}
